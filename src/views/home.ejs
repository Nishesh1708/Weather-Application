<%- include("partials/header") %>

<div class="min-h-screen bg-gradient-to-br from-sky-400 to-blue-700 text-white">

  <!-- Navbar -->
  <nav class="flex justify-between items-center px-6 md:px-16 py-4">
    <h1 class="text-2xl font-bold">WeatherNow</h1>
  </nav>

<!-- Flash Messages -->
<div class="px-6 md:px-16 mt-4">

  <% if (error && error.length > 0) { %>
    <div class="bg-red-500/20 border border-red-400 text-red-100 px-4 py-3 rounded-lg mb-4 text-center">
      <%= error[0] %>
    </div>
  <% } %>

</div>


  <!-- Hero Section -->
<!-- Hero Section -->
<section class="px-6 md:px-16 mt-12 text-center">

  <h2 class="text-4xl md:text-5xl font-extrabold leading-tight">
    Real-Time Weather Updates Anywhere
  </h2>

  <p class="mt-4 text-lg text-blue-100 max-w-2xl mx-auto">
    Check temperature, humidity, wind speed and forecasts for any city in the world.
  </p>

  <!-- Search -->
  <form action="/weather" method="POST" class="mt-8 max-w-xl mx-auto flex flex-col sm:flex-row gap-3">
    <input
      type="text"
      name="city"
      placeholder="Enter city name"
      class="px-4 py-3 rounded-lg text-gray-800 outline-none w-full"
      required
    />
    <button
      type="submit"
      class="bg-yellow-400 text-blue-900 px-6 py-3 rounded-lg font-semibold hover:bg-yellow-300"
    >
      Get Weather
    </button>
  </form>

</section>

<!-- Weather Display Section -->
<section class="px-6 md:px-16 mt-14">

  <% if (weatherData) { %>

    <div class="max-w-4xl mx-auto bg-white/20 backdrop-blur-md rounded-3xl shadow-xl p-8 text-center">

      <h3 class="text-2xl md:text-3xl font-bold">
        ğŸ“ <%= weatherData.name %>, <%= weatherData.sys.country %>
      </h3>

      <p class="text-6xl md:text-7xl font-extrabold mt-6">
        <%= (weatherData.main.temp - 273.15).toFixed(1) %>Â°C
      </p>

      <p class="mt-3 text-xl capitalize text-blue-100">
        <%= weatherData.weather[0].description %>
      </p>

      <!-- Stats -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-10 text-sm md:text-base">

        <div class="bg-white/10 rounded-xl p-4">
          ğŸ’§ Humidity
          <p class="text-lg font-semibold mt-1">
            <%= weatherData.main.humidity %>%
          </p>
        </div>

        <div class="bg-white/10 rounded-xl p-4">
          ğŸŒ¬ Wind
          <p class="text-lg font-semibold mt-1">
            <%= weatherData.wind.speed %> m/s
          </p>
        </div>

        <div class="bg-white/10 rounded-xl p-4">
          ğŸŒ¡ Feels Like
          <p class="text-lg font-semibold mt-1">
            <%= (weatherData.main.feels_like - 273.15).toFixed(1) %>Â°C
          </p>
        </div>

        <div class="bg-white/10 rounded-xl p-4">
          â˜ Clouds
          <p class="text-lg font-semibold mt-1">
            <%= weatherData.clouds.all %>%
          </p>
        </div>

      </div>

      <% if (weatherData.rain && weatherData.rain["1h"]) { %>
        <p class="mt-6 text-sm">
          ğŸŒ§ Rain (last 1h): <%= weatherData.rain["1h"] %> mm
        </p>
      <% } %>

    </div>

  <% } else { %>

    <!-- Default State -->
    <div class="text-center text-blue-100 mt-10">
      <p class="text-lg">Search for a city to see detailed weather information ğŸŒ¤</p>
    </div>

  <% } %>

</section>


  </section>

  <!-- Features -->
  <section class="mt-20 px-6 md:px-16">
    <h3 class="text-3xl font-bold text-center mb-10">
      App Features
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      <% const features = [
        "ğŸŒ¡ Real-Time Temperature",
        "ğŸŒ Global City Search",
        "âš  Weather Alerts"
      ]; %>

      <% features.forEach(feature => { %>
        <div class="bg-white/20 backdrop-blur-md p-6 rounded-xl text-center font-semibold">
          <%= feature %>
        </div>
      <% }) %>
    </div>
  </section>

  <!-- CTA -->
  <section class="mt-20 text-center pb-12 px-6">
    <h3 class="text-3xl font-bold">
      Know the Weather Before You Step Out ğŸŒ¤
    </h3>
    <a href="/" class="inline-block mt-6 bg-white text-blue-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100">
      Check Weather Now
    </a>
  </section>

  <!-- Footer -->
  <footer class="text-center text-blue-100 text-sm pb-4">
    Â© 2026 WeatherNow | Powered by OpenWeather API
  </footer>

</div>

<%- include("partials/footer") %>
